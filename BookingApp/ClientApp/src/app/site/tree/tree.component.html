<div *ngFor="let node of treeFlat" >
  <div [ngClass]="{
  'entry': true,
  'clearfix': true,
  'admin': authService.isAdmin,
  'folder-entry': node.item.isFolder,
  'resource-entry': !node.item.isFolder,
  'inactive': node.item.isActive != true
  }" *ngIf="node.nesting != 0 || authService.isAdmin">

    <div class="fleft" [style.padding-left.px]="30*node.nesting">

      
      <span title="This is a root pesudo-folder" *ngIf="node.nesting === 0">⭐️</span>
      <span *ngIf="node.nesting != 0">
        <span title="This is a folder" *ngIf="node.item.isFolder">📦</span>
        <span title="This is a resource" *ngIf="!node.item.isFolder">🍎</span>
      </span>

      <span *ngIf="node.item.isFolder">{{ node.item.title }}</span>
      <a *ngIf="!node.item.isFolder" [routerLink]="['/resources', node.item.id]">{{ node.item.title }}</a>

      <span class="redundand" *ngIf="node.item.isActive != true" style="padding-left:12px;"> (inactive)</span>
      <!--<span class="redundand" style="padding-left:12px;">#{{ node.item.id }}</span>-->
    </div>

    <div class="indicator fright" *ngIf="node.item.occupancy != null" title="{{node.item.occupancyTitle}}">
      <div class="occupied" [style.width]="node.item.occupancy+'%'">&nbsp;</div>
    </div>

    <div class="control fright" *ngIf="authService.isAdmin">
      <span class="folder-modifies controls" *ngIf="node.item.isFolder">
        <span class="folder-modifies" *ngIf="node.nesting != 0">
          <a title="Edit folder" [routerLink]="['/resources', node.item.id, 'edit']">✏️</a>
          <a title="Delete folder" [routerLink]="['/resources', node.item.id, 'delete']">❌</a>
        </span>
        <span class="nested-creates">
          <a title="Create nested resource" [routerLink]="['/resources', node.item.id, 'create']">🍏</a>
          <a title="Create nested folder" [routerLink]="['/folders', node.item.id, '/create']">📦</a>
        </span>
      </span>
      <span class="resource-modifies" *ngIf="!node.item.isFolder">
        <a title="Edit resource" [routerLink]="['/resources', node.item.id, 'edit']">✏️</a>
        <a title="Delete resource" [routerLink]="['/resources', node.item.id, 'delete']">❌</a>
      </span>
    </div>
  </div>
</div>
